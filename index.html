<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="title">Quran Player</title>
    <link rel="stylesheet" href="style.css">
    <!-- Consider adding a favicon -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"> -->
</head>
<body>
    <div class="app-container">
        <div class="main-content">
            <header>
                <h1 data-lang-key="title">Quran Player</h1>
                <div class="lang-toggle">
                    <button class="lang-button" data-lang="en">English</button>
                    <button class="lang-button" data-lang="ar">العربية</button>
                </div>
            </header>

            <main>
                <div class="section-toggle">
                    <button class="nav-button active" data-section="audible-section" data-lang-key="audible">Audible</button>
                    <button class="nav-button" data-section="readable-section" data-lang-key="readable">Readable</button>
                </div>

                <section id="audible-section" class="content-section">
                    <div class="selectors">
                        <div>
                            <select id="reciter-select">
                                <!-- Options will be populated by JS -->
                            </select>
                        </div>
                        <div>
                            <select id="surah-select">
                                <!-- Options will be populated by JS -->
                            </select>
                        </div>
                    </div>
                    <div class="audio-player-container">
                        <div class="skip-buttons">
                            <button id="skip-backward" class="skip-button" aria-label="Skip backward 10 seconds">⏪ 10s</button>
                            <audio id="audio-player" controls controlsList="nodownload">
                                Your browser does not support the audio element.
                                <!-- Source will be set by JS -->
                            </audio>
                            <button id="skip-forward" class="skip-button" aria-label="Skip forward 10 seconds">10s ⏩</button>
                        </div>
                    </div>
                </section>

                <section id="readable-section" class="content-section" style="display: none;">
                    
                    <!-- Rewayah Buttons (Replaces Selector) -->
                    <div id="rewayah-selector-container" style="display: none;">
                        
                        <div id="rewayah-buttons-container" class="rewayah-buttons">
                            <!-- Rewayah buttons will be populated by JS -->
                        </div>
                        <div id="rewayah-validation-message" class="validation-message" style="display: none;"></div>
                    </div>

                    <!-- Placeholder for English/Initial state -->
                    <p data-lang-key="readablePlaceholder">This section will display the text of the selected Surah. (Functionality to be added)</p>
                    
                    <!-- REMOVED iframe for English PDF -->
                    <!-- <iframe id="pdf-viewer-en" style="display: none; width: 100%; height: 80vh; border: none;" src=""></iframe> -->
                    
                    <!-- ADDED: PDF.js Viewer Elements -->
                    <div id="pdf-viewer-container" class="pdf-viewer" style="display: none;">
                        <!-- ADDED: TOC Sidebar -->
                        <div id="custom-toc-sidebar" class="pdf-toc-sidebar">
                            <h4 id="toc-header" class="active">Surah List</h4>
                            <ul id="custom-toc-list"></ul>
                            <!-- MOVED: Glossary Button -->
                            <button id="glossary-button" class="pdf-sidebar-button">Quran Glossary</button>
                        </div>
                        <!-- END TOC Sidebar -->
                        <div class="pdf-viewer-main">
                             <!-- REMOVED: Mobile TOC Toggle Button -->
                             <!-- <button id="toggle-toc-mobile" class="pdf-sidebar-button">Toggle Table of Contents</button> -->
                             
                             <div id="pdf-controls" class="pdf-controls">
                                 <!-- ADDED: Hamburger TOC Toggle Button -->
                                 <button id="hamburger-toc" aria-label="Toggle Table of Contents">☰</button>
                                 <!-- END ADDITION -->
                                 <button id="pdf-prev">◄</button>
                                 <span>Page 
                                     <input type="number" id="pdf-page-input" class="pdf-page-input" min="1">
                                     / <span id="pdf-page-count">-</span>
                                 </span>
                                 <button id="pdf-go-to-page">Go</button>
                                 <button id="pdf-next">►</button>
                             </div>
                             <div class="pdf-canvas-container">
                                 <canvas id="pdf-canvas"></canvas>
                             </div>
                             <button id="pdf-download" class="pdf-download-button">Download Entire Quran in English (PDF)</button>
                        </div>
                    </div>
                    <!-- END ADDITION -->
                    
                    <!-- Container for Surah buttons -->
                    <div id="surah-buttons-container" class="surah-grid" style="display: none;"></div>
                    
                    <!-- Area for displaying Surah text -->
                    <div id="surah-text-display-container" style="display: none;">
                        <!-- ADDED Navigation Header -->
                        <div class="surah-navigation-header" style="display: none;">
                            <button id="prev-surah" class="surah-nav-button prev">
                                <span class="arrow">&lt;</span>
                                <span class="surah-name"></span>
                            </button>
                            <button id="back-to-surah-select" data-lang-key="backButton">Back</button>
                            <button id="next-surah" class="surah-nav-button next">
                                <span class="surah-name"></span>
                                <span class="arrow">&gt;</span>
                            </button>
                        </div>
                        <!-- END Navigation Header -->

                        <div id="surah-display-title" class="surah-display-title" style="display: none;"></div>
                        <div id="basmala-display" class="basmala-display" style="display: none;"></div>
                        <div id="surah-text-display" lang="ar" dir="rtl">
                            <!-- Surah text loaded here by JS -->
                        </div>
                    </div>
                </section>
            </main>

            <!-- Optional Footer -->
            <!--
            <footer>
                <p>&copy; 2024 Tamzeni.com</p>
            </footer>
            -->
        </div>
        <!-- ADDED: Overlay for mobile TOC -->
        <div id="toc-overlay"></div>
        <!-- END ADDITION -->
    </div>

    <!-- Make script type=module for PDF.js import -->
    <script src="script.js" type="module"></script>
</body>
</html> 